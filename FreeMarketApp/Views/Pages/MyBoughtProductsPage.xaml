<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:i="clr-namespace:Avalonia.Xaml.Interactivity;assembly=Avalonia.Xaml.Interactivity"
             xmlns:ia="clr-namespace:Avalonia.Xaml.Interactions.Core;assembly=Avalonia.Xaml.Interactions"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="FreeMarketApp.Views.Pages.MyBoughtProductsPage">
  
  <Grid Margin="0" Classes="Main">
          <!-- SIDEBAR -->
        <ScrollViewer HorizontalAlignment="Left" Margin="0,0,0,0" Width="250">
            <StackPanel Name="SideBar" Orientation="Vertical">
                <Button Name="BackButton" Classes="action" HorizontalAlignment="Left" Height="36" Margin="20,20,0,30" VerticalAlignment="Top" Width="210" VerticalContentAlignment="Center" BorderThickness="1" Click="ButtonBack_Click" Cursor="Hand">
                    <StackPanel Orientation="Horizontal">
                        <Path Classes="BlueIcon" Data="M408,178.5H96.9L239.7,35.7L204,0L0,204l204,204l35.7-35.7L96.9,229.5H408V178.5z" HorizontalAlignment="Left" Height="14" Stretch="Fill" Width="15" />
                        <TextBlock HorizontalAlignment="Center" Margin="10,0,0,0" FontSize="14" Text="Go back"/>
                    </StackPanel>
                </Button>

              <Button Classes="sidebar" Cursor="Hand" Click="ButtonMyProducts_Click">
                <StackPanel Orientation="Horizontal">
                  <Path Classes="SideBarIcon" Data="M435.2,51.2H384V25.6C384,10.24,373.76,0,358.4,0c-15.36,0-25.6,10.24-25.6,25.6v25.6h-51.2V25.6
			C281.6,10.24,271.36,0,256,0s-25.6,10.24-25.6,25.6v25.6h-51.2V25.6c0-15.36-10.24-25.6-25.6-25.6C138.24,0,128,10.24,128,25.6
			v25.6H76.8c-15.36,0-25.6,10.24-25.6,25.6v409.6c0,15.36,10.24,25.6,25.6,25.6h358.4c15.36,0,25.6-10.24,25.6-25.6V76.8
			C460.8,61.44,450.56,51.2,435.2,51.2z M281.6,409.6H128c-15.36,0-25.6-10.24-25.6-25.6s10.24-25.6,25.6-25.6h153.6
			c15.36,0,25.6,10.24,25.6,25.6S296.96,409.6,281.6,409.6z M384,307.2H128c-15.36,0-25.6-10.24-25.6-25.6
			c0-15.36,10.24-25.6,25.6-25.6h256c15.36,0,25.6,10.24,25.6,25.6C409.6,296.96,399.36,307.2,384,307.2z M384,204.8H128
			c-15.36,0-25.6-10.24-25.6-25.6s10.24-25.6,25.6-25.6h256c15.36,0,25.6,10.24,25.6,25.6S399.36,204.8,384,204.8z"
            Margin="1 0 0 0" HorizontalAlignment="Left" Height="17" Stretch="Fill" Width="13" />
                  <TextBlock Margin="7,0,0,0" Text="My products"/>
                </StackPanel>
              </Button>

              <Button Classes="sidebarSelected" Cursor="Hand">
                <StackPanel Orientation="Horizontal">
                  <Path Classes="SideBarIcon" Data="M479.823,495.711L463.782,14.5C463.512,6.415,456.88,0,448.791,0H63.19c-8.09,0-14.723,6.415-14.992,14.5l-16.066,482
			c-0.135,4.063,1.385,8.007,4.211,10.929S43.06,512,47.124,512h417.733c0.009,0.001,0.015,0.001,0.021,0c8.283,0,15-6.716,15-15
			C479.878,496.565,479.858,496.136,479.823,495.711z M255.99,222.8c-61.427,0-111.4-49.974-111.4-111.4c0-8.284,6.716-15,15-15
			s15,6.716,15,15c0,44.885,36.517,81.4,81.4,81.4c44.884,0,81.4-36.516,81.4-81.4c0-8.284,6.716-15,15-15s15,6.716,15,15
			C367.39,172.826,317.417,222.8,255.99,222.8z"
            HorizontalAlignment="Left" Height="16" Stretch="Fill" Width="14" />
                  <TextBlock Margin="7,0,0,0" Text="Bought products"/>
                </StackPanel>
              </Button>

              <Button Classes="sidebar" Click="ButtonSoldProducts_Click" Cursor="Hand">
                <StackPanel Orientation="Horizontal">
                  <Path Classes="SideBarIcon" Data="M473.61,119.808c0-0.512,0-0.512,0-1.024c-0.512-1.024-0.512-2.048-1.024-3.072V115.2
			c-0.512-1.024-1.536-2.048-2.048-2.56l-0.512-0.512c-0.512-0.512-1.536-1.024-2.048-1.536l-0.512-0.512h-0.512l-0.512-0.512
			L248.842,1.536c-4.096-2.048-9.216-2.048-13.824,0l-73.216,36.352l218.624,112.128l0.512,0.512c0.512,0,0.512,0.512,1.024,0.512
			c0.512,0.512,0.512,1.024,1.024,1.536c0,0.512,0,0.512,0,1.024v0.512v118.784c0,2.048-1.024,3.584-2.56,4.608l-44.032,23.04
			c-2.56,1.536-5.632,0.512-7.168-2.048c-0.512-0.512-0.512-1.536-0.512-2.56V179.712L107.53,65.536l-0.512-0.512l-88.576,44.032
			l-0.512,0.512h-0.512l-0.512,0.512c-0.512,0.512-1.536,1.024-2.048,1.536l-0.512,0.512c-1.024,1.024-1.536,2.048-2.56,3.072v0.512
			c-0.512,1.024-1.024,2.048-1.024,3.072c0,0.512,0,0.512,0,1.024c0,1.024-0.512,1.536-0.512,2.56v0.512v238.592
			c0,5.632,3.072,11.264,8.704,13.824l215.552,107.52c3.072,1.536,6.656,2.048,10.24,1.024l1.024-0.512
			c1.024,0,1.536-0.512,2.56-1.024l217.088-107.52c5.12-2.56,8.704-7.68,8.704-13.824V122.88v-0.512
			C473.61,121.344,473.61,120.832,473.61,119.808z"
            HorizontalAlignment="Left" Height="17" Stretch="Fill" Width="16" />
                  <TextBlock Margin="7,0,0,0" Text="Sold products"/>
                </StackPanel>
              </Button>
              
            </StackPanel>
        </ScrollViewer>
        <Separator Classes="SideBarSeparator" Width="1" HorizontalAlignment="Left"	VerticalAlignment="Stretch" Margin="250 0 0 0"/>

        <!-- CONTENT AREA -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Margin="250 0 0 0">
            <StackPanel HorizontalAlignment="Stretch">
                <WrapPanel Orientation="Horizontal" Margin="20 20 20 10">
                    <TextBlock Classes="H1" Text="Bought Products" TextWrapping="Wrap" FontSize="28" Margin="0 0 25 0" FontWeight="Bold" />
                </WrapPanel>

              <StackPanel Margin="20 0 0 20" Orientation="Horizontal">
                <TextBlock Classes="H1"  FontSize="14" Text="Items found: "></TextBlock>

                <!-- Number of search results -->
                <TextBlock Classes="H1" FontSize="14" Text="{Binding Result.TotalHits} "></TextBlock>

                <TextBlock Classes="H1" Margin="30 0 5 0" FontSize="14" Text="Results per page "></TextBlock>
                <VirtualizingStackPanel>

                  <!-- Dropdown menu -->
                  <ComboBox Name="CBPageSize" Classes="TextBoxBackground" BorderThickness="0" Margin="0 -2 0 0" SelectionChanged="OnPageSize_Change">
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="1"/>
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="5" />
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="10"/>
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="20" />
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="50"/>
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="100"/>
                  </ComboBox>
                </VirtualizingStackPanel>
              </StackPanel>

              <ItemsControl Items="{Binding Items}">
                <ItemsControl.ItemTemplate>
                  <DataTemplate>
                   
                  <!-- Product card -->
                  <DockPanel HorizontalAlignment="Stretch" LastChildFill="true">
                       <Button Margin="10 0 10 10" HorizontalContentAlignment="Left" Height="140" Classes="productcard" Tag="{Binding Signature}" Cursor="Hand" Click="ButtonBoughtProduct_Click">
                         <DockPanel HorizontalAlignment="Stretch" LastChildFill="true">
                          <Border Classes="PhotoPlaceholder" Width="200" Height="120" Margin="5 10 10 10" BorderThickness="0">
                            <Image DockPanel.Dock="Left" Source="{Binding PreTitlePhoto}" Stretch="UniformToFill" >
                              <Image.Clip>
                                <RectangleGeometry Rect="0,0,200,120" />
                              </Image.Clip>
                            </Image>
                          </Border>
                          <TextBlock Classes="H1" DockPanel.Dock="Top" TextWrapping="Wrap" HorizontalAlignment="Stretch" MaxHeight="50" FontWeight="Medium" FontSize="18" Margin="0 5 10 4" Text="{Binding Title}"></TextBlock>
                          <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                            <TextBlock Classes="H2" FontSize="12" Text="Shipping: "></TextBlock>
                            <TextBlock Classes="H2" FontSize="12" Text="{Binding Shipping}"></TextBlock>
                          </StackPanel>
                          <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                            <TextBlock Classes="H2" FontSize="12" Text="XRC Receiving Address: "></TextBlock>
                            <TextBlock Classes="H2" FontSize="12" Text="{Binding XRCReceivingAddress}"></TextBlock>
                          </StackPanel>
                         <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                           <TextBlock Classes="H2" FontSize="12" Text="XRC Transaction: "></TextBlock>
                           <TextBlock Classes="H2" FontSize="12" Text="{Binding XRCTransactionHash}"></TextBlock>
                         </StackPanel>
                         <!--
						              <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                              <TextBlock DockPanel.Dock="Top" Classes="H1" Margin="0 4 0 0" FontSize="18" FontWeight="Medium" Text="{Binding Price}"></TextBlock>
                              <TextBlock DockPanel.Dock="Top" Classes="H1" Name="TBPriceType" FontWeight="Medium" Margin="3 4 0 0" FontSize="18" >
                                 <i:Interaction.Behaviors>
                                   <ia:DataTriggerBehavior Binding="{Binding PriceType}" ComparisonCondition="Equal" Value="0">
                                     <ia:ChangePropertyAction TargetObject="{Binding TBPriceType}" PropertyName="Text" Value="XRC"/>
                                   </ia:DataTriggerBehavior>
                                   <ia:DataTriggerBehavior Binding="{Binding PriceType}" ComparisonCondition="Equal" Value="1">
                                     <ia:ChangePropertyAction TargetObject="{Binding TBPriceType}" PropertyName="Text" Value="USD"/>
                                   </ia:DataTriggerBehavior>
                                 </i:Interaction.Behaviors>
                              </TextBlock>
						              </StackPanel>
							          -->
                          </DockPanel>
                       </Button>
                      <StackPanel Orientation="Vertical">
                       <!-- Review notification -->
                       <WrapPanel VerticalAlignment="Bottom" IsVisible="true" Orientation="Horizontal">
                         <Path Data="M11.812,0C5.289,0,0,5.289,0,11.812s5.289,11.813,11.812,11.813s11.813-5.29,11.813-11.813
                            S18.335,0,11.812,0z M14.271,18.307c-0.608,0.24-1.092,0.422-1.455,0.548c-0.362,0.126-0.783,0.189-1.262,0.189
                            c-0.736,0-1.309-0.18-1.717-0.539s-0.611-0.814-0.611-1.367c0-0.215,0.015-0.435,0.045-0.659c0.031-0.224,0.08-0.476,0.147-0.759
                            l0.761-2.688c0.067-0.258,0.125-0.503,0.171-0.731c0.046-0.23,0.068-0.441,0.068-0.633c0-0.342-0.071-0.582-0.212-0.717
                            c-0.143-0.135-0.412-0.201-0.813-0.201c-0.196,0-0.398,0.029-0.605,0.09c-0.205,0.063-0.383,0.12-0.529,0.176l0.201-0.828
                            c0.498-0.203,0.975-0.377,1.43-0.521c0.455-0.146,0.885-0.218,1.29-0.218c0.731,0,1.295,0.178,1.692,0.53
                            c0.395,0.353,0.594,0.812,0.594,1.376c0,0.117-0.014,0.323-0.041,0.617c-0.027,0.295-0.078,0.564-0.152,0.811l-0.757,2.68
                            c-0.062,0.215-0.117,0.461-0.167,0.736c-0.049,0.275-0.073,0.485-0.073,0.626c0,0.356,0.079,0.599,0.239,0.728
                            c0.158,0.129,0.435,0.194,0.827,0.194c0.185,0,0.392-0.033,0.626-0.097c0.232-0.064,0.4-0.121,0.506-0.17L14.271,18.307z
                            M14.137,7.429c-0.353,0.328-0.778,0.492-1.275,0.492c-0.496,0-0.924-0.164-1.28-0.492c-0.354-0.328-0.533-0.727-0.533-1.193
                            c0-0.465,0.18-0.865,0.533-1.196c0.356-0.332,0.784-0.497,1.28-0.497c0.497,0,0.923,0.165,1.275,0.497
                            c0.353,0.331,0.53,0.731,0.53,1.196C14.667,6.703,14.49,7.101,14.137,7.429z"
                           HorizontalAlignment="Left" VerticalAlignment="Top" Fill="#ff9234" Height="17" Stretch="Fill" Width="17" Margin="0 4 5 7"/>
                         <Button Cursor="Hand" Click="ButtonReviewPage_Click" Tag="{Binding Signature}" Background="Transparent" BorderBrush="Transparent" Margin="0 4 20 7">
                           <TextBlock Foreground="#ff9234" FontSize="12" Text="Not reviewed" ></TextBlock>
                         </Button>
                       </WrapPanel>
                       <!-- Propagation notification -->
                        <WrapPanel Name="TBIsInPool" VerticalAlignment="Bottom" IsVisible="{Binding IsInPool}" Orientation="Horizontal">
                            <Path Classes="H2" Data="M413.809,462.904v-51.088c0-60.171-46.494-96.158-91.179-131.268c-6.172-4.839-14.028-14.028-14.028-28.055
                            s7.077-27.704,14.028-33.554c43.477-36.583,91.179-71.098,91.179-131.268V49.096h35.068V0H63.123v49.096h35.068v38.576
                            c0,60.171,47.7,94.685,91.179,131.268c6.951,5.85,14.028,19.526,14.028,33.554c0,14.028-7.856,23.215-14.028,28.055
                            c-44.684,35.111-91.179,71.098-91.179,131.268v51.088H63.123V512h385.753v-49.096H413.809z M167.438,133.26
                            c-12.927-14.631-20.15-28.714-20.15-45.589V49.096h217.424v38.576c0,16.874-7.225,30.959-20.15,45.589H167.438z M364.712,449.221
                            l-82.572-32.227c-14.378-5.611-37.895-5.611-52.273,0l-82.579,32.229v-37.404c0-34.045,27.059-57.035,71.217-91.725l1.171-0.918
                            c16.762-13.144,27.634-31.449,31.324-51.621c3.303,0.736,6.698,0.736,10.001,0c3.675,20.165,14.56,38.471,31.301,51.6l1.192,0.939
                            c44.158,34.688,71.217,57.672,71.217,91.724V449.221z" HorizontalAlignment="Left" VerticalAlignment="Top" Height="16" Stretch="Fill" Width="12" Margin="0 4 5 7"/>
                            <TextBlock Classes="H2" FontSize="12" Text="Waiting for propagation" Margin="0 4 0 7"></TextBlock>       
                        </WrapPanel>                   
                        <!-- End of product card -->
                      </StackPanel>
                       </DockPanel>
                  </DataTemplate>
                </ItemsControl.ItemTemplate>
              </ItemsControl>
              <!-- Pagination of product list -->
              <StackPanel Orientation="Horizontal" Margin="20 30 0 30">
                <Button BorderThickness="1" Margin="0 0 5 0" Cursor="Hand" Classes="pagination" VerticalAlignment="Bottom" HorizontalAlignment="Right" Click="ButtonPreviousPage_Click" IsVisible="{Binding ShowPreviousPage}" >
                  <StackPanel Orientation="Horizontal">
                    <Path Classes="BlueIcon" Data="M97.141,225.92c0-8.095,3.091-16.192,9.259-22.366L300.689,9.27c12.359-12.359,32.397-12.359,44.751,0 c12.354,12.354,12.354,32.388,0,44.748L173.525,225.92l171.903,171.909c12.354,12.354,12.354,32.391,0,44.744	c-12.354,12.365-32.386,12.365-44.745,0l-194.29-194.281C100.226,242.115,97.141,234.018,97.141,225.92z"
                        HorizontalAlignment="Left" Height="12" Stretch="Fill" Width="7" />
                    <TextBlock Text="Previous " Margin="5 0 0 0" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                    <!-- Bind sellected page size -->
                    <TextBlock Text="{Binding Result.PageSize}" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                  </StackPanel>
                </Button>

                <Button BorderThickness="1" Cursor="Hand" Classes="pagination" VerticalAlignment="Bottom" HorizontalAlignment="Right" Click="ButtonNextPage_Click" IsVisible="{Binding ShowNextPage}">
                  <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Next " HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                    <!-- Bind sellected page size -->
                    <TextBlock Text="{Binding Result.PageSize}" HorizontalAlignment="Right" Margin="0 0 5 0" FontWeight="Bold" FontSize="12" />
                    <Path Classes="BlueIcon" Data="M345.441,248.292L151.154,442.573c-12.359,12.365-32.397,12.365-44.75,0c-12.354-12.354-12.354-32.391,0-44.744 L278.318,225.92L106.409,54.017c-12.354-12.359-12.354-32.394,0-44.748c12.354-12.359,32.391-12.359,44.75,0l194.287,194.284	c6.177,6.18,9.262,14.271,9.262,22.366C354.708,234.018,351.617,242.115,345.441,248.292z"
                        HorizontalAlignment="Left" Height="12" Stretch="Fill" Width="7" />
                  </StackPanel>
                </Button>
              </StackPanel>
            </StackPanel>
        </ScrollViewer>
</Grid>
</UserControl>
