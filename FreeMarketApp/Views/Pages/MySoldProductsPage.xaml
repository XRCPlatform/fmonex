<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:i="clr-namespace:Avalonia.Xaml.Interactivity;assembly=Avalonia.Xaml.Interactivity"
             xmlns:ia="clr-namespace:Avalonia.Xaml.Interactions.Core;assembly=Avalonia.Xaml.Interactions"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="FreeMarketApp.Views.Pages.MySoldProductsPage">
  
  <Grid Margin="0" Classes="Main">
         <!-- SIDEBAR -->
        <ScrollViewer HorizontalAlignment="Left" Margin="0" Width="250">
            <StackPanel Name="SideBar" Orientation="Vertical">
                <Button Name="BackButton" Classes="action" HorizontalAlignment="Stretch" Height="36" Margin="15 20 15 30" VerticalAlignment="Top" VerticalContentAlignment="Center" BorderThickness="1" Click="ButtonBack_Click" Cursor="Hand">
                    <StackPanel Orientation="Horizontal">
                        <Path Classes="BlueIcon" Data="M408,178.5H96.9L239.7,35.7L204,0L0,204l204,204l35.7-35.7L96.9,229.5H408V178.5z" HorizontalAlignment="Left" Height="14" Stretch="Fill" Width="15" />
                        <TextBlock HorizontalAlignment="Center" Margin="10,0,0,0" FontSize="14" Text="Go back"/>
                    </StackPanel>
                </Button>

                <Button Classes="sidebar" Cursor="Hand" Click="ButtonMyProducts_Click">
					<StackPanel Orientation="Horizontal">
						<Path Classes="SideBarIcon" Data="M136.979,20.393h-3.556c-1.395-5.368-6.224-9.354-12.032-9.354h-16.928C100.889,4.5,94.025,0,86.062,0
                        C78.1,0,71.234,4.506,67.66,11.039H50.732c-5.812,0-10.638,3.985-12.035,9.354h-3.553c-6.884,0-12.471,5.59-12.471,12.47v126.789
                        c0,6.887,5.587,12.471,12.471,12.471h101.835c6.881,0,12.471-5.584,12.471-12.471V32.863
                        C149.449,25.967,143.871,20.393,136.979,20.393z M86.062,12.074c4.95,0,8.963,4.016,8.963,8.97c0,4.95-4.013,8.963-8.963,8.963
                        c-4.951,0-8.967-4.019-8.967-8.963S81.11,12.074,86.062,12.074z M49.821,131.587c-3.449,0-6.235-2.789-6.235-6.236
                        c0-3.446,2.786-6.234,6.235-6.234c3.456,0,6.235,2.788,6.235,6.234C56.057,128.798,53.265,131.587,49.821,131.587z M49.821,100.41
                        c-3.449,0-6.235-2.789-6.235-6.235c0-3.447,2.786-6.235,6.235-6.235c3.456,0,6.235,2.788,6.235,6.235
                        C56.057,97.621,53.265,100.41,49.821,100.41z M49.821,69.233c-3.449,0-6.235-2.792-6.235-6.235c0-3.446,2.786-6.235,6.235-6.235
                        c3.456,0,6.235,2.789,6.235,6.235C56.057,66.441,53.265,69.233,49.821,69.233z M125.074,131.587H70.317
                        c-3.456,0-6.235-2.789-6.235-6.236c0-3.446,2.78-6.234,6.235-6.234h54.757c3.453,0,6.235,2.788,6.235,6.234
                        C131.31,128.798,128.527,131.587,125.074,131.587z M125.074,100.41H70.317c-3.456,0-6.235-2.789-6.235-6.235
                        c0-3.447,2.78-6.235,6.235-6.235h54.757c3.453,0,6.235,2.788,6.235,6.235C131.31,97.621,128.527,100.41,125.074,100.41z
                        M125.074,69.233H70.317c-3.456,0-6.235-2.792-6.235-6.235c0-3.446,2.78-6.235,6.235-6.235h54.757c3.453,0,6.235,2.789,6.235,6.235
                        C131.31,66.441,128.527,69.233,125.074,69.233z"
							  Margin="1 0 0 0" HorizontalAlignment="Left" Height="17" Stretch="Fill" Width="13" />
						<TextBlock Margin="7,0,0,0" Text="My products"/>
					</StackPanel>
              </Button>
              
              <Button Classes="sidebar" Click="ButtonBoughtProducts_Click" Cursor="Hand">
				  <StackPanel Orientation="Horizontal">
					  <Path Classes="SideBarIcon" Data="M421.621,116.048h-56.939v-3.735C364.682,50.383,314.299,0,252.369,0h-9.45c-61.93,0-112.313,50.384-112.313,112.313v3.735
                      H73.049c-8.297,0-15.026,6.727-15.026,15.025v348.572c0,8.299,6.729,15.025,15.026,15.025h348.572
                      c8.299,0,15.025-6.728,15.025-15.025V131.073C436.648,122.774,429.92,116.048,421.621,116.048z M166.073,112.313
                      c0-42.372,34.473-76.846,76.846-76.846h9.45c42.373,0,76.695,34.474,76.695,76.846l-0.021,36.722
                      c0,9.792-7.838,17.729-17.629,17.729c-9.793,0-17.729-7.938-17.729-17.729c0-0.041,0.008-0.082,0.008-0.123l-0.019-32.863h-92.147
                      v32.863h-0.006c0,0.041,0.006,0.082,0.006,0.123c0,9.792-7.938,17.729-17.729,17.729c-9.792,0-17.729-7.938-17.729-17.729
                      L166.073,112.313z"
								  HorizontalAlignment="Left" Height="16" Stretch="Fill" Width="13" />
					  <TextBlock Margin="7,0,0,0" Text="Bought products"/>
				  </StackPanel>
              </Button>

              <Button Classes="sidebarSelected"  Cursor="Hand">
				  <StackPanel Orientation="Horizontal">
					  <Path Classes="SideBarIcon" Data="M473.61,119.808c0-0.512,0-0.512,0-1.024c-0.512-1.024-0.512-2.048-1.024-3.072V115.2
                      c-0.512-1.024-1.536-2.048-2.048-2.56l-0.512-0.512c-0.512-0.512-1.536-1.024-2.048-1.536l-0.512-0.512h-0.512l-0.512-0.512
                      L248.842,1.536c-4.096-2.048-9.216-2.048-13.824,0l-73.216,36.352l218.624,112.128l0.512,0.512c0.512,0,0.512,0.512,1.024,0.512
                      c0.512,0.512,0.512,1.024,1.024,1.536c0,0.512,0,0.512,0,1.024v0.512v118.784c0,2.048-1.024,3.584-2.56,4.608l-44.032,23.04
                      c-2.56,1.536-5.632,0.512-7.168-2.048c-0.512-0.512-0.512-1.536-0.512-2.56V179.712L107.53,65.536l-0.512-0.512l-88.576,44.032
                      l-0.512,0.512h-0.512l-0.512,0.512c-0.512,0.512-1.536,1.024-2.048,1.536l-0.512,0.512c-1.024,1.024-1.536,2.048-2.56,3.072v0.512
                      c-0.512,1.024-1.024,2.048-1.024,3.072c0,0.512,0,0.512,0,1.024c0,1.024-0.512,1.536-0.512,2.56v0.512v238.592
                      c0,5.632,3.072,11.264,8.704,13.824l215.552,107.52c3.072,1.536,6.656,2.048,10.24,1.024l1.024-0.512
                      c1.024,0,1.536-0.512,2.56-1.024l217.088-107.52c5.12-2.56,8.704-7.68,8.704-13.824V122.88v-0.512
                      C473.61,121.344,473.61,120.832,473.61,119.808z"
						  HorizontalAlignment="Left" Height="16" Stretch="Fill" Width="15" />
					  <TextBlock Margin="7,0,0,0" Text="Sold products"/>
				  </StackPanel>
              </Button>

				<Button Classes="sidebar" Cursor="Hand" Margin="15 50 15 20">
					<StackPanel Orientation="Horizontal">
						<Path Classes="SideBarIcon" Data="M75.75,0h-59c-2.209,0-4,1.791-4,4v84.5c0,1.672,1.04,3.168,2.607,3.75c1.571,0.582,3.332,0.127,4.424-1.141l26.469-30.73
		                            l26.469,30.73c0.775,0.9,1.891,1.391,3.032,1.391c0.466,0,0.938-0.082,1.392-0.25c1.567-0.582,2.607-2.078,2.607-3.75V4
		                            C79.75,1.791,77.959,0,75.75,0z"
							  Margin="1 0 0 0" HorizontalAlignment="Left" Height="15" Stretch="Fill" Width="10" />
						<TextBlock Margin="7,0,0,0" Text="Saved items"/>
					</StackPanel>
				</Button>
				
            </StackPanel>
        </ScrollViewer>
        <Separator Classes="SideBarSeparator" Width="1" HorizontalAlignment="Left"	VerticalAlignment="Stretch" Margin="250 0 0 0"/>


        <!-- CONTENT AREA -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Margin="250 0 0 0">
            <StackPanel HorizontalAlignment="Stretch">
                <WrapPanel Orientation="Horizontal" Margin="20 20 20 10">
                    <TextBlock Classes="H1" Text="Sold Products" TextWrapping="Wrap" FontSize="28" Margin="0 0 25 0" FontWeight="Bold" />
                </WrapPanel>

              <StackPanel Margin="20 0 0 20" Orientation="Horizontal">
                <TextBlock Classes="H1"  FontSize="14" Text="Items found: "></TextBlock>

                <!-- Number of search results -->
                <TextBlock Classes="H1" FontSize="14" Text="{Binding Result.TotalHits} "></TextBlock>

                <TextBlock Classes="H1" Margin="30 0 5 0" FontSize="14" Text="Results per page "></TextBlock>
                <VirtualizingStackPanel>

                  <!-- Dropdown menu -->
                  <ComboBox Name="CBPageSize" Classes="TextBoxBackground" BorderThickness="0" Margin="0 -2 0 0" SelectionChanged="OnPageSize_Change">
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="1"/>
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="2"/>
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="10"/>
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="20"/>
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="50"/>
                    <ComboBoxItem Classes="DropDown" Padding="7" Content="100"/>
                  </ComboBox>
                </VirtualizingStackPanel>
              </StackPanel>
              
              <ItemsControl Items="{Binding Items}">
                <ItemsControl.ItemTemplate>
                  <DataTemplate>

                    <!-- Product card -->
                    <Button Margin="10 0 10 10" HorizontalContentAlignment="Left" Height="140" Classes="productcard" Tag="{Binding Hash}" Cursor="Hand" Click="ButtonSoldProduct_Click">
                      <DockPanel HorizontalAlignment="Stretch" LastChildFill="true">
                        <Border Classes="PhotoPlaceholder" Width="200" Height="120" Margin="5 10 10 10" BorderThickness="1">
                          <Image DockPanel.Dock="Left" Source="{Binding PreTitlePhoto}"></Image>
                        </Border>
                        <TextBlock Classes="H1" DockPanel.Dock="Top" TextWrapping="Wrap" HorizontalAlignment="Stretch" MaxHeight="50" FontWeight="Medium" FontSize="18" Margin="0 5 10 4" Text="{Binding Title}"></TextBlock>
                        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                          <TextBlock Classes="H2" FontSize="12" Text="Shipping: "></TextBlock>
                          <TextBlock Classes="H2" FontSize="12" Text="{Binding Shipping}"></TextBlock>
                        </StackPanel>
						            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                            <TextBlock DockPanel.Dock="Top" Classes="H1" Margin="0 4 0 0" FontSize="18" FontWeight="Medium" Text="{Binding Price}"></TextBlock>
                            <TextBlock DockPanel.Dock="Top" Classes="H1" Name="TBPriceType" FontWeight="Medium" Margin="3 4 0 0" FontSize="18" >
                               <i:Interaction.Behaviors>
                                 <ia:DataTriggerBehavior Binding="{Binding PriceType}" ComparisonCondition="Equal" Value="0">
                                   <ia:ChangePropertyAction TargetObject="{Binding TBPriceType}" PropertyName="Text" Value="XRC"/>
                                 </ia:DataTriggerBehavior>
                                 <ia:DataTriggerBehavior Binding="{Binding PriceType}" ComparisonCondition="Equal" Value="1">
                                   <ia:ChangePropertyAction TargetObject="{Binding TBPriceType}" PropertyName="Text" Value="USD"/>
                                 </ia:DataTriggerBehavior>
                               </i:Interaction.Behaviors>
                            </TextBlock>
						            </StackPanel>                        
                      </DockPanel>
                    </Button>
                    <!-- End of product card -->

                  </DataTemplate>
                </ItemsControl.ItemTemplate>
              </ItemsControl>
              <!-- Pagination of product list -->
              <StackPanel Orientation="Horizontal" Margin="20 30 0 30">
                <Button BorderThickness="1" Margin="0 0 5 0" Cursor="Hand" Classes="pagination" VerticalAlignment="Bottom" HorizontalAlignment="Right" Click="ButtonPreviousPage_Click" IsVisible="{Binding ShowPreviousPage}" >
                  <StackPanel Orientation="Horizontal">
                    <Path Classes="BlueIcon" Data="M97.141,225.92c0-8.095,3.091-16.192,9.259-22.366L300.689,9.27c12.359-12.359,32.397-12.359,44.751,0 c12.354,12.354,12.354,32.388,0,44.748L173.525,225.92l171.903,171.909c12.354,12.354,12.354,32.391,0,44.744	c-12.354,12.365-32.386,12.365-44.745,0l-194.29-194.281C100.226,242.115,97.141,234.018,97.141,225.92z"
                        HorizontalAlignment="Left" Height="12" Stretch="Fill" Width="7" />
                    <TextBlock Text="Previous " Margin="5 0 0 0" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                    <!-- Bind sellected page size -->
                    <TextBlock Text="{Binding Result.PageSize}" HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                  </StackPanel>
                </Button>

                <Button BorderThickness="1" Cursor="Hand" Classes="pagination" VerticalAlignment="Bottom" HorizontalAlignment="Right" Click="ButtonNextPage_Click" IsVisible="{Binding ShowNextPage}">
                  <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Next " HorizontalAlignment="Right" FontWeight="Bold" FontSize="12" />
                    <!-- Bind sellected page size -->
                    <TextBlock Text="{Binding Result.PageSize}" HorizontalAlignment="Right" Margin="0 0 5 0" FontWeight="Bold" FontSize="12" />
                    <Path Classes="BlueIcon" Data="M345.441,248.292L151.154,442.573c-12.359,12.365-32.397,12.365-44.75,0c-12.354-12.354-12.354-32.391,0-44.744 L278.318,225.92L106.409,54.017c-12.354-12.359-12.354-32.394,0-44.748c12.354-12.359,32.391-12.359,44.75,0l194.287,194.284	c6.177,6.18,9.262,14.271,9.262,22.366C354.708,234.018,351.617,242.115,345.441,248.292z"
                        HorizontalAlignment="Left" Height="12" Stretch="Fill" Width="7" />
                  </StackPanel>
                </Button>
              </StackPanel>
            </StackPanel>         
        </ScrollViewer>
</Grid>
</UserControl>
